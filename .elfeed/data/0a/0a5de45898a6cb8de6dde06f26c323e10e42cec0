<!-- SC_OFF --><div class="md"><p><strong>Structure</strong></p> <pre><code>│ afile.md │ script.sh │ └───somelongdirectoryname bfile.md </code></pre> <p><strong>script.sh</strong></p> <p>&#x200B;</p> <pre><code>find . -type f -name &quot;*.md&quot; -print | while read file_name do basename=$file_name echo &quot; title: \&quot;$basename\&quot; &quot; | sed -e &quot;s/.md//g&quot; | sed -e &quot;s/.\///g&quot; &gt; &quot;$basename.tmp&quot; cat &quot;$file_name&quot; &gt;&gt; &quot;$basename.tmp&quot; mv &quot;$basename.tmp&quot; &quot;$file_name&quot; done </code></pre> <p><strong>afile.md</strong> and <strong>bfile.md</strong> are initially empty.</p> <p>After running script:</p> <p><strong>sh script.sh</strong></p> <p><strong>Result</strong>:</p> <p>afile.md</p> <pre><code>title: &quot;afile&quot; </code></pre> <p>bfile.md (under a subdirectory somelongdirectoryname)</p> <pre><code>title: &quot;somelongdirectorynambfile&quot; </code></pre> <p><strong>Expected</strong> result of bfile.md was:</p> <pre><code>title: &quot;bfile&quot; </code></pre> <p>Notice how in the bfile.md the subdirectory name in appended to the start (which is NOT expected) and for some reason the <strong>e</strong> in <strong>somelongdirectorynam</strong> is cut off as you can see in the output! (which is again weird to me.)</p> <p>My objective is to fill the files in all subdirectories (and their subdirectories) recursively with some textual content with a bash script.</p> <p>What am I doing wrong and how do I fix this script?</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ipponpx"> /u/ipponpx </a> <br/> <span><a href="https://www.reddit.com/r/commandline/comments/sddd3n/filename_is_not_being_printed_correctly_as_a_part/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/commandline/comments/sddd3n/filename_is_not_being_printed_correctly_as_a_part/">[comments]</a></span>