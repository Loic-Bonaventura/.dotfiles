<!-- SC_OFF --><div class="md"><p>Lately, since switching to using Emacs 28 (using the <code>emacs-plus</code> build), I run into the following issue: when simply trying to open a file, Emacs freezes for a few seconds before doing so. </p> <p>Now: </p> <ul> <li>I&#39;ve had this happen multiple times when opening a single <code>.el</code> file while visiting a buffer with a different <code>.el</code> file on, so there should be no delay coming from running any mode-related hooks etc, at least as far as I understand these things. </li> <li>I&#39;ve had this happen long after starting an Emacs session, so any package being loaded with a <code>:defer n</code> call (via <code>use-package</code>) should have been loaded. </li> </ul> <p>I&#39;ve been trying to use the one tool I sort of knew of for this, <code>explain-pause-mode</code>, but something appears to be wrong with the package but for some reason the package isn&#39;t working anymore. I&#39;ve now had the profiler start by default and tried to look at the profiler report right after I notice the lag, but that hasn&#39;t given me any clues. </p> <p>I&#39;m thinking of resetting the profiler every few seconds or so to see if that helps, but I&#39;m wondering if anyone here knows of another way to figure out what&#39;s going on. </p> <p>I&#39;ve been reluctant to bisect my init since as I said before sometimes hours go by without running into this problem.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/graduale"> /u/graduale </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/scr2yi/help_diagnosing_lag_when_opening_a_el_file/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/scr2yi/help_diagnosing_lag_when_opening_a_el_file/">[comments]</a></span>