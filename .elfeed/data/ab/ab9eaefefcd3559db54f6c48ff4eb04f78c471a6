<div><img width="800" height="450" src="https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png?w=800" class="attachment-large size-large wp-post-image" alt="" loading="lazy" style="margin: 0 auto; margin-bottom: 15px;" srcset="https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png 800w, https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png?resize=250,141 250w, https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png?resize=400,225 400w" sizes="(max-width: 800px) 100vw, 800px" data-attachment-id="517180" data-permalink="https://hackaday.com/2022/01/26/reverse-engineering-the-next-computer-keyboard-protocol/keyboard-19/" data-orig-file="https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png" data-orig-size="800,450" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="keyboard" data-image-description="" data-image-caption="" data-medium-file="https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png?w=400" data-large-file="https://hackaday.com/wp-content/uploads/2022/01/keyboard-e1643086140451.png?w=800" /></div><p>The NeXT computer was introduced in 1988, with the high-end machine finding favor with universities and financial institutions during its short time in the marketplace. [Spencer Nelson] came across a keyboard from one of these machines, and with little experience, <a href="https://journal.spencerwnelson.com/entries/nextkb.html" target="_blank">set about figuring out how it worked.</a></p>
<p>The keyboard features a type of DIN connector and speaks a non-ADB protocol to the machine, but [Spencer] wanted to get it speaking USB for use with modern computers. First attempts at using <a href="https://learn.adafruit.com/usb-next-keyboard-with-arduino-micro" target="_blank">pre-baked software found online</a> to get the keyboard working proved to be unreliable. [Spencer] suspected that the code, designed to read 50 microsecond pulses from the keyboard, was miscalibrated.</p>
<p>Some analysis with an oscilloscope and logic analyzer allowed [Spencer] to figure out the keyboard was communicating with pulses ever 52.74 microseconds, corresponding to a frequency of 18.960 kHz, sending two 9-bit messages at a time. Disassembling the keyboard confirmed these findings &#8211; inside was a 455 kHz clock, with the keyboard sending a signal every 24 ticks producing the 18.960 kHz output.</p>
<p>Reworking the initial code found online to work with the actual pulse widths coming from the keyboard got everything humming along nicely. Now, [Spencer] has a nice vintage keyboard with excellent feel that reliably works with modern hardware. We&#8217;d call that a win.</p>
<p>If you need more of a fix, be sure to dive into <em>Keebin&#8217; with Kristina</em>, a regular column <a href="https://9jagidi.com/keebin-with-kristina-the-one-with-the-tri-lingual-typewriter/" target="_blank">all about our favorite tactile input devices!</a></p>
