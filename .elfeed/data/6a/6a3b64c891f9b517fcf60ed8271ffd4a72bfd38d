<div><img width="800" height="547" src="https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?w=800" class="attachment-large size-large wp-post-image" alt="An MK-85 with a modern CPU replacement" loading="lazy" style="margin: 0 auto; margin-bottom: 15px;" srcset="https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg 1682w, https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?resize=250,171 250w, https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?resize=400,273 400w, https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?resize=800,547 800w, https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?resize=1536,1050 1536w" sizes="(max-width: 800px) 100vw, 800px" data-attachment-id="517227" data-permalink="https://hackaday.com/2022/01/27/upgrading-a-soviet-calculator-with-a-modern-cpu/elektronika-mk-85-cpu-replacement/" data-orig-file="https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg" data-orig-size="1682,1150" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;5.6&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Canon PowerShot S20&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1596970891&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;13&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0.016666666666667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Elektronika MK-85 CPU Replacement" data-image-description="" data-image-caption="" data-medium-file="https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?w=400" data-large-file="https://hackaday.com/wp-content/uploads/2022/01/Elektronika-MK-85-CPU-Replacement-.jpg?w=800" /></div><p>Today&#8217;s supply chain issues can make it hard to buy microcontrollers, or really any kind of semiconductor. But for those keeping retrocomputers alive, this problem has always existed: ancient components might have been out of production for decades, with a dwindling supply of second-hand parts or &#8220;new old stock&#8221; as the only option. If a rare CPU breaks, you might have no option but to replace the entire computer.</p>
<p>[Piotr Patek] ran into this issue when he obtained an Elektronika MK-85 programmable calculator with a broken CPU. Unable to find a replacement, he decided instead to build <a href="http://pisi.com.pl/piotr433/stmk85_e.htm" target="_blank">a pin-compatible CPU unit based on an STM32 microcontroller</a>. Of course no modern CPU is pin-compatible with a Soviet design from the 1980s, so [Piotr] had to design a small interposer PCB to match the original pinout. This also gave him enough space to add an efficient DC/DC converter chip that generates the 2.5 V supply for the STM32.</p>
<p>As for the software, [Piotr] managed to port the original BASIC interpreter, which was written in PDP-11 assembly, to a modern equivalent written in C. While he was at it, he fixed a few bugs that had been sitting there for about 35 years. The updated CPU also allows the MK-85 to run circles around its contemporary siblings: [Piotr] timed it to be about thirty times faster than the original chip, while using a comparable amount of power.</p>
<p>If you also happen to have an MK-85 with a dodgy CPU, you&#8217;ll be pleased to find that the schematics and source code to [Piotr]&#8217;s modification are all available on his blog. This is probably the first calculator CPU update we&#8217;ve seen, although we&#8217;ve featured other ancient calculators <a href="https://hackaday.com/2017/07/11/cosmac-elf-calculator-gets-new-firmware/">updated with new firmware</a>, and some <a href="https://hackaday.com/2020/11/17/another-kind-of-bare-metal-6502-computer-powers-rpn-calculator/">completely new calculator designs based on classic hardware</a>.</p>
<p>Thanks for the tip, [cmholm]!</p>
