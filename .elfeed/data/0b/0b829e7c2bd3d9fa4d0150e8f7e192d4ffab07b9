<!-- SC_OFF --><div class="md"><p>I want to add a facility to an existing major mode so that <em>some</em> of the keywords that the mode defines have a different face applied. </p> <pre><code>(defface my-keyword-override-face &#39;((t :inherit font-lock-keyword-face :slant italic :underline t)) &quot;WTF face&quot;) </code></pre> <p>That mode already define the special case keyword regex and applies the <code>font-lock-warning-face</code> and I want to replace that with my face:</p> <pre><code>(,special-case-keywords-regexp . ,my-keyword-override-face) </code></pre> <p>Literally all I&#39;ve done is define a face and change <code>font-lock-warning-face</code> with my new face.</p> <p>It fails with a message i the message biffer saying:</p> <pre><code>Error during redisplay: (jit-lock-function 1) signaled (void-variable my-keyword-override-face) </code></pre> <p>That&#39;s coming from font-lock.</p> <p>In the lisp buffer that defines a major mode where I added the face</p> <pre><code>(defface my-keyword-override-face &#39;((t :inherit font-lock-keyword-face :slant italic :underline t)) &quot;WTF face&quot;) </code></pre> <p>I place my cursor at the end of the <em>defface</em> and <code>M-x eval-print-last-sexp</code> and beneath it in the buffer I see. </p> <pre><code>my-keyword-override-face </code></pre> <p>The &#39;defface&#39; is at location 4120 in the buffer and directly after that I have </p> <pre><code>(add-text-properties 4120 4127 `(face ,my-keyword-override-face)) </code></pre> <p>Place my cursor after that sexp and <code>M-x eval-print-last-sexp</code>again. </p> <p>I&#39;m thrown into a lisp debugger </p> <pre><code>Debugger entered--Lisp error: (void-variable my-keyword-override-face) (list &#39;face my-keyword-override-face) (add-text-properties 4120 4127 (list &#39;face my-keyword-override-face)) (progn (add-text-properties 4120 4127 (list &#39;face my-keyword-override-face))) elisp--eval-last-sexp(t) eval-last-sexp(t) eval-print-last-sexp(nil) funcall-interactively(eval-print-last-sexp nil) command-execute(eval-print-last-sexp) </code></pre> <p>Can someone please help me understand what I&#39;m dong wrong and how I should be replacing a modes face with one that I&#39;ve defined.</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/bhrgunatha"> /u/bhrgunatha </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/sdsl6b/why_do_i_keep_getting_notified_that_a_face_ive/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/sdsl6b/why_do_i_keep_getting_notified_that_a_face_ive/">[comments]</a></span>